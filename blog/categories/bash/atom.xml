<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Bash | Personal Interview Notes]]></title>
  <link href="http://tdongsi.github.io/SqlTests/blog/categories/bash/atom.xml" rel="self"/>
  <link href="http://tdongsi.github.io/SqlTests/"/>
  <updated>2017-07-07T10:02:27-07:00</updated>
  <id>http://tdongsi.github.io/SqlTests/</id>
  <author>
    <name><![CDATA[Cuong Dong-Si]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Docker CLI Cookbook]]></title>
    <link href="http://tdongsi.github.io/SqlTests/blog/2016/12/02/docker-cli-cookbook/"/>
    <updated>2016-12-02T09:20:53-08:00</updated>
    <id>http://tdongsi.github.io/SqlTests/blog/2016/12/02/docker-cli-cookbook</id>
    <content type="html"><![CDATA[<p>Standard Docker commands.</p>

<!--more-->


<h3>Standard workflow</h3>

<p>The usual workflow for modifying a Docker image is as follows:</p>

<pre><code class="plain Docker commands in workspace">
mymac:W_3703511 tdongsi$ pwd
/Users/tdongsi/docker/W_3703511

# Build from a Docker file
docker build -t docker.registry.net/tdongsi/jenkins-nodev4-agent:2.85 .

# Test run
docker run -d --restart=always --entrypoint="java" docker.registry.net/tdongsi/jenkins-nodev4-agent:5 -jar /usr/share/jenkins/slave.jar -jnlpUrl http://10.252.78.115/computer/slave/slave-agent.jnlp

docker ps -a
docker exec -it &lt;ID&gt; bash

# Copy an installer to Docker image
$ docker cp jdk-8u131-linux-x64.tar.gz bad2dab451bf:/home/jenkins
$ docker exec -it bad2dab451bf bash
jenkins@aqueduct-agent-1c87a4933da26c:~$ ls
jdk-8u131-linux-x64.tar.gz  maven  support  workspace

# Stop and restart
$ docker stop &lt;ID&gt;
$ docker rm &lt;ID&gt;

docker commit --author tdongsi --message "Commit message" bad2dab451bf docker.registry.net/tdongsi/jenkins-nodev4-agent:7
docker push docker.registry.net/tdongsi/jenkins-nodev4-agent:7
</code></pre>

<h3>Reference</h3>

<ul>
<li><a href="http://tdongsi.github.io/blog/2017/01/25/docker-root-user-in-a-pod/">Example of modifying Docker image</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[User Group and Related Commands]]></title>
    <link href="http://tdongsi.github.io/SqlTests/blog/2016/12/01/groupadd-cookbook/"/>
    <updated>2016-12-01T18:21:32-08:00</updated>
    <id>http://tdongsi.github.io/SqlTests/blog/2016/12/01/groupadd-cookbook</id>
    <content type="html"><![CDATA[<p>User groups and commands to manipulate them.</p>

<!--more-->


<h3><code>groupadd</code> examples</h3>

<p>The following example creates a new group called apache</p>

<pre><code>$ groupadd apache
</code></pre>

<p>Make sure it is created successfully.</p>

<pre><code># grep apache /etc/group
apache:x:1004:
</code></pre>

<p>If you donâ€™t specify a groupid, Linux will assign one automatically.
If you want to create a group with a specific group id, do the following.</p>

<pre><code>$ groupadd apache -g 9090

$ grep 9090 /etc/group
apache:x:9090:
</code></pre>

<p>Group account information is stored in <code>/etc/group</code>.
Or you can run the following command to find out what groups you belong to.</p>

<pre><code class="plain Check user group">+ groups $USER

+ cat /etc/group
...
docker:x:999:jenkins
...
</code></pre>

<h3>References</h3>

<ul>
<li><a href="https://linux.die.net/man/8/groupadd">groupadd man pages</a></li>
<li><a href="http://linux.101hacks.com/unix/groupadd/">groupadd examples</a></li>
<li><a href="http://www.thegeekstuff.com/2012/06/chown-examples/">chown examples</a></li>
<li><a href="https://www.unixtutorial.org/2008/06/find-files-which-belong-to-a-user-or-unix-group/">find files with group name or ID</a></li>
<li><a href="https://unix.stackexchange.com/questions/33844/change-gid-of-a-specific-group">https://unix.stackexchange.com/questions/33844/change-gid-of-a-specific-group</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
